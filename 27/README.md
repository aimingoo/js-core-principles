## 设计

1. main/workers都不访问net模块，只通过channels在分组内通讯，实现了网络隔离。
2. workers不访问parentPort，强制在线程环境中在依赖模拟的网络机制。
3. 除了创建和运行之外，main/workers都没有线程行为（例如锁）。


## 其它

在小概率的情况下，该示例会在启动时出现死锁。

这是因为模拟网络的faked-network.js模块中，可能有某些线程初始化之后立即发出了请求，而目标线程的服务还未创建，所以该请求丢失了。

在现实网络中，客户端或代理在连接服务端时可以探活，或通过网络连接状况来确认，而不会出现本例中“直接丢失请求”的情况。

避免本例如出现上述意外，可以：
 * 将worker.js中的RATE调到1以上，并置eatOnce为false，或
 * 给main.js中的proxy加一段探活和延时发送请求的功能。
即可。
